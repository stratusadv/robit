<html xmlns="http://www.w3.org/1999/html">

<head>
    <title></title>
    <link class="style" href="bootstrap.css" rel="stylesheet">
    <link class="style" href="index.css" rel="stylesheet">
</head>

<body class="bg-light">

<div v-scope="Container()" class="container-fluid" @mounted="setInterval(ajax_json_request, 2000)">

    <div class="row sticky-top bg-white border-bottom border-1 shadow-sm">
        <div class="col-12 col-md-6 p-3 text-start ">
            <h2>{{ name }}</h2>
        </div>
        <div class="col-12 col-md-6 p-3 text-end">
            <h2>Health: {{ health }}</h2>
        </div>
    </div>


    <div v-if="job_list.length > 0" class="row">
        <div v-for="(job, i) in job_list" :key="i" class="col-12">
            <div class="row px-3 pt-3">
                <div class="col-12 border border-1 bg-white shadow-sm rounded-3 py-2 px-3">
                    <div class="row">
                        <div class="col-12 col-md-3">Job "{{ job.name }}"</div>
                        <div class="col-12 col-md-3">Health: {{ job.health }}</div>
                        <div class="col-12 col-md-2">Status: {{ job.status }}</div>
                        <div class="col-12 col-md-2">Success: {{ job.success_count }}</div>
                        <div class="col-12 col-md-2">Failed: {{ job.failed_count }}</div>
                    </div>
                    <div class="row mt-3">
                        <div v-for="(message, i) in job.failed_log" :key="i" class="col-12">
                            <li class="text-muted">{{ message }}</li>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<script type="application/javascript" src="petite-vue.js"></script>
<script type="application/javascript" src="bootstrap.js"></script>
<script type="application/javascript" src="index.js"></script>

</body>
</html>
